### XSS攻击
Xss全称为Cross Site script,就是跨站点脚本攻击，黑客通过恶意篡改前端代码，在里面注入html+JavaScript脚本，当用户点击时，恶意脚本在浏览器中运行就会控制用户浏览器
* 第一种Xss攻击叫做反射型攻击，主要是引诱用户点击url链接，在url链接中嵌入恶意脚本。url链接的展现形式可能是图片，flash动图，小视频。一段恶意的js脚本几乎可以无恶不作，可以通过窃取cookie
来伪造用户登录session状态
* 第二种XSS攻击叫做持久型攻击，黑客可以通过发表评论的形式将恶意脚本持久化到服务端，当其他用户浏览这条评论时，评论内容中的恶意js脚本就会返回到用户浏览器中运行。

防止XSS的手段：
消毒机制:对用户输入做转义，使恶意脚本失效
```
<html>   ->  &lthtml&gt  ,转义后的内容是无法在浏览器中运行的

<html><script>//包含恶意脚本</script></html>, 这样的恶意脚本转义后即使被用户看到也不会在浏览器中运行了
```

* 设置HttpOnly:
在用户浏览器中存放cookie时，可以设置为HttpOnly属性，设置了httponly属性的cookie无法被js脚本读取，这样恶意js脚本也就无法窃取cookie了

### SQL注入
系统存在漏洞，当执行sql时把包含sql语法的用户输入部分拼接为 sql去执行。一般使用sql注入攻击不是特别容易，需要知道数据库表结构，而获取数据库表结构的方式有下面几种:
1. 使用开源软件，如开源博客系统、论坛系统，这种情况比较少见
2. 错误回显。web系统报错时通过异常堆栈信息将包含错误sql暴露表结构
3. 根据请求参数名称推测数据库表结构，这个一般不现实  
防止sql注入方式:
1. 保护表结构不被暴露
2. 关闭web服务器的错误回显，只显示http错误码
3. 使用预编译的方式执行sql
最佳实践: 平时开发系统要关闭web系统错误回显，使用mybatis的预编译，不能直接拼接sql语句


SQL注入 CSRF Session劫持