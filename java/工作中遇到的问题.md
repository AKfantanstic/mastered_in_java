##### 问题1: mybatis-plus更新字段的时候设置为null，忽略实体null判断
分析:在用mybatis-plus封装的updateById方法来更新数据时，想把一个字段设置为null值，但是发现更新后数据没有为null还是原来的值，这是因为mybatis-plus在更新的时候做了null
判断，默认不更新为null的传参。  

解决:在实体类对应的字段上加注解@TableField(strategy=FieldStrategy.IGNORED)，忽略null值的判断，例如  
```
   @TableField(strategy = FieldStrategy.IGNORED)
   private String name;   
```

```   
   // 当@TableField注解有多个值时
   @TableField(value = "user_name", strategy = FieldStrategy.IGNORED)
```
 
```  
   // 枚举说明
   public enum FieldStrategy {
       IGNORED,(忽略判断)
       NOT_NULL,(非null判断)
       NOT_EMPTY,(非空判断)
       DEFAULT,
       NEVER;
   }
```

##### 问题2:  rabbitMq从一个服务投递消息到另一个服务，消息类型为泛型list，List<T>,当消费时，报错
```
Caused by: org.springframework.amqp.support.converter.MessageConversionException: failed to convert serialized Message content
	at org.springframework.amqp.support.converter.SimpleMessageConverter.fromMessage(SimpleMessageConverter.java:114)
	at org.springframework.amqp.rabbit.listener.adapter.AbstractAdaptableMessageListener.extractMessage(AbstractAdaptableMessageListener.java:288)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter$MessagingMessageConverterAdapter.extractPayload(MessagingMessageListenerAdapter.java:280)
	at org.springframework.amqp.support.converter.MessagingMessageConverter.fromMessage(MessagingMessageConverter.java:118)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.toMessagingMessage(MessagingMessageListenerAdapter.java:182)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:123)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1552)
	... 10 common frames omitted
Caused by: java.lang.IllegalStateException: Could not deserialize object type
	at org.springframework.amqp.utils.SerializationUtils.deserialize(SerializationUtils.java:98)
	at org.springframework.amqp.support.converter.SimpleMessageConverter.fromMessage(SimpleMessageConverter.java:110)
	... 16 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.example.timing.otcpayment.entity.UcMerchantCallback
```

解决:查找后发现，泛型中对象全限定名不一样，实体类内容是一样的，猜想应该是经mq序列化后，再反序列化，必须全限定名相同。
   解决方案：序列化时序列化为JSON字符串，消费时用
   JSONObject.parseObject(callbackListStr,new TypeReference<List<UcMerchantCallback>>() {});
   也就是说用 TypeReference来反序列化泛型类，然后再对此List对象进行处理。
   方案2：最好可以修改rabbitmq的默认序列化器
   RabbitMq消息序列化：https://blog.csdn.net/Sadlay/article/details/86716028